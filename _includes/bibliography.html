{% assign pubs = site.scholar.bibliography | sort: "year" | reverse %}
{% assign years = pubs | map: "year" | uniq %}

<h2>Publications</h2>

{% for y in years %}
  <h3>{{ y }}</h3>
  <ul>
    {% for entry in pubs %}
      {% if entry.year == y %}
        <li>
          {{ entry.author }} ({{ entry.year }}).
          <em>{{ entry.title }}</em>.
          {% if entry.journal %} {{ entry.journal }}{% endif %}
          {% if entry.url %} <a href="{{ entry.url }}">[link]</a>{% endif %}
        </li>
      {% endif %}
    {% endfor %}
  </ul>
{% endfor %}
